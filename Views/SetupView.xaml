<UserControl x:Class="M_A_G_A.Views.SetupView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid Background="{StaticResource BgBrush}">
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Width="340">
            <!-- Logo -->
            <TextBlock Text="M  A  G  A" FontSize="52" FontWeight="Black"
                       Foreground="White" HorizontalAlignment="Center"
                       Margin="0,0,0,4"/>
            <TextBlock Text="Мессенджер локальной сети"
                       FontSize="13" Foreground="{StaticResource TextSecBrush}"
                       HorizontalAlignment="Center" Margin="0,0,0,48"/>

            <!-- Avatar picker -->
            <Button Command="{Binding PickAvatarCommand}"
                    Style="{StaticResource IconButton}"
                    HorizontalAlignment="Center" Margin="0,0,0,32"
                    Width="110" Height="110" Padding="0">
                <Grid>
                    <!-- default icon when no avatar -->
                    <Border Background="{StaticResource Surface2Brush}" CornerRadius="55"
                            Width="110" Height="110"
                            Visibility="{Binding MyAvatar, Converter={StaticResource NullToVis}, ConverterParameter=invert}">
                        <TextBlock Text="+" FontSize="36" Foreground="{StaticResource TextSecBrush}"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <!-- avatar image -->
                    <Border CornerRadius="55" Width="110" Height="110"
                            Visibility="{Binding MyAvatar, Converter={StaticResource NullToVis}}">
                        <Border.Background>
                            <ImageBrush ImageSource="{Binding MyAvatar, Converter={StaticResource BytesToImage}}"
                                        Stretch="UniformToFill"/>
                        </Border.Background>
                    </Border>
                    <!-- overlay -->
                    <Border CornerRadius="55" Width="110" Height="110" Background="#80000000">
                        <TextBlock Text="Фото" FontSize="12" Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </Grid>
            </Button>

            <!-- Name input -->
            <TextBlock Text="Ваше имя" FontSize="12" Foreground="{StaticResource TextSecBrush}"
                       Margin="0,0,0,8"/>
            <TextBox x:Name="NameBox" Style="{StaticResource ModernTextBox}"
                     Text="{Binding MyName, UpdateSourceTrigger=PropertyChanged}"
                     FontSize="16" Margin="0,0,0,24"
                     KeyDown="NameBox_KeyDown">
                <TextBox.Resources>
                    <Style TargetType="Border"><Setter Property="CornerRadius" Value="12"/></Style>
                </TextBox.Resources>
            </TextBox>

            <!-- Start button -->
            <Button Content="Войти в сеть" Foreground="Black" Style="{StaticResource PrimaryButton}"
                    Command="{Binding StartAppCommand}"
                    HorizontalAlignment="Stretch" FontSize="15" Padding="0,14"/>
        </StackPanel>
    </Grid>
</UserControl>
